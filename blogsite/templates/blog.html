{% extends 'index.html' %}
{% block maincontent %}
{% load my_markdown %}

    <div class="col-md-8 blog-main">
        <article class="blog-post">
            <div class="body">
                <h1> {{title}} </h1>
                <div class="meta">
                    <i class="fa fa-calendar"></i> {{date}} <i class="fa fa-comments"></i><span class="data"><a href="#comments"> {{ comments|length|plural:"{} Comment" }} </a></span>
                </div>
                {{ body|my_markdown }}
            </div>
        </article>
               
    </div>
               
{% endblock %}
{% block sidepart %}
<aside class="col-md-4 blog-aside" id="create-comment">    
        <h2><i class="fa fa-pencil"></i> Add Comment</h2>
            <form action="add_comment" method="get" accept-charset="utf-8">
                
                <textarea rows="13" name="message" id="comment-body" placeholder="Your Message" class="form-control input-lg"></textarea>
                <input type = "hidden" name="page_id" value="{{page_id}}">
                <div class="buttons clearfix">
                    <button type="submit" class="btn btn-xlarge btn-clean-one">Submit</button>
                </div>
            </form>
</aside>

{% endblock %}
{% block comments %}
<aside class="comments" id="comments">
            <hr>

            {% for user, dat, cont in comments %}
                <article class="comment">
                    <header class="clearfix">
                        <div class="meta">
                            <h3><a href="#">{{user}}</a></h3>
                            <span class="date">
                                {{dat}}
                            </span>
                            <span class="separator">
                                -
                            </span>
                                    
                            <!--<a href="#create-comment" class="reply-link">Reply</a>-->
                        </div>
                    </header>
                    <div class="body">
                        {{cont}}
                    </div>
                </article>
                
            {% endfor %}
                               
        </aside>

{% endblock %}
